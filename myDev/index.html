<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Ajax Lesson</title>

	<!-- JQuery CDN -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

	<!-- Ajax -->
	<script type="text/javascript">
		$(function(){

			console.log('test');

			// $('p').after('<p>test</p>');

			// Ajax 
			// 通信先の設定（WordPressの REST API との連携） URLとファイル形式の設定
			$.getJSON('http://localhost/Englearn/myDev/wp/wp-json/wp/v2/posts',{
				format:"json"
			})

			// 通信に成功した時
			.done(function(data){

				console.log(data);

				for (var i = 0; i < data.length; i++) {
					console.log(data[i].date);
					$('p').after('<p>' + data[i].date + '</p>');
				}

			})

			//通信が失敗したとき
			.fail(function(){
				alert('通信障害が発生しました。');
			});

			console.log('test2');

		});
	</script>

</head>
<body>

	<p>test</p>

</body>
</html>